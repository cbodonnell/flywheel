namespace flatbuffers.gamestate;
 
table GameState {
    timestamp: int64;
    players: [PlayerStateKeyValue];
    NPCs: [NPCStateKeyValue];
}

table PlayerStateKeyValue {
    key: uint32;
    value: PlayerState;
}

table PlayerState {
  last_processed_timestamp: int64;
  position: Position;
  velocity: Velocity;
  is_on_ground: bool;
  animation: uint8;
  animation_flip: bool;
}

table Position {
  x: float64;
  y: float64;
}

table Velocity {
  x: float64;
  y: float64;
}

table NPCKeyValue {
    key: uint32;
    value: PlayerState;
}

table NPCState {
  position: Position;
  velocity: Velocity;
  is_on_ground: bool;
  animation: uint8;
  animation_flip: bool;
}
 
root_type GameState;
